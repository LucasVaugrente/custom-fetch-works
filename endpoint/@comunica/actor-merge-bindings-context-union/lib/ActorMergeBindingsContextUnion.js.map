{"version":3,"file":"ActorMergeBindingsContextUnion.js","sourceRoot":"","sources":["ActorMergeBindingsContextUnion.ts"],"names":[],"mappings":";;;AAMA,qFAAiF;AAEjF,yCAA8C;AAC9C,+FAA4F;AAE5F;;GAEG;AACH,MAAa,8BAA+B,SAAQ,sDAAyB;IAE3E,YAAmB,IAAyC;QAC1D,KAAK,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,OAAoC;QACpD,OAAO,IAAA,mBAAY,GAAE,CAAC;IACxB,CAAC;IAEM,KAAK,CAAC,GAAG,CAAC,OAAoC;QACnD,2CAA2C;QAC3C,MAAM,aAAa,GAAsD,EAAE,CAAC;QAC5E,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,yEAAmC,EAAE,CAAC;QAE3E,OAAO,EAAE,aAAa,EAAE,CAAC;IAC3B,CAAC;CACF;AAlBD,wEAkBC","sourcesContent":["import type {\n  IActionMergeBindingsContext,\n  IActorMergeBindingsContextOutput,\n  IActorMergeBindingsContextArgs,\n  IBindingsContextMergeHandler,\n} from '@comunica/bus-merge-bindings-context';\nimport { ActorMergeBindingsContext } from '@comunica/bus-merge-bindings-context';\nimport type { IActorTest, TestResult } from '@comunica/core';\nimport { passTestVoid } from '@comunica/core';\nimport { SetUnionBindingsContextMergeHandler } from './SetUnionBindingsContextMergeHandler';\n\n/**\n * A comunica Union Merge Bindings Context Actor.\n */\nexport class ActorMergeBindingsContextUnion extends ActorMergeBindingsContext {\n  private readonly contextKey: string;\n  public constructor(args: IActorMergeBindingsContextUnionArgs) {\n    super(args);\n    this.contextKey = args.contextKey;\n  }\n\n  public async test(_action: IActionMergeBindingsContext): Promise<TestResult<IActorTest>> {\n    return passTestVoid();\n  }\n\n  public async run(_action: IActionMergeBindingsContext): Promise<IActorMergeBindingsContextOutput> {\n    // Merge function: Union with set semantics\n    const mergeHandlers: Record<string, IBindingsContextMergeHandler<any>> = {};\n    mergeHandlers[this.contextKey] = new SetUnionBindingsContextMergeHandler();\n\n    return { mergeHandlers };\n  }\n}\n\nexport interface IActorMergeBindingsContextUnionArgs extends IActorMergeBindingsContextArgs {\n  /**\n   * The context key name to merge over.\n   */\n  contextKey: string;\n}\n"]}